<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Ticaret Dijital Pazarlama KDS</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="bg-light">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4 p-3">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">üõí Pazarlama KDS Dashboard</a>
        </div>
    </nav>

    <div class="container mb-5">

        <!-- KPI √ñzet Kartlarƒ± -->
        <div class="row g-4 mb-4">
            <div class="col-md-3">
                <div class="card shadow-sm border-0 border-start border-4 border-danger h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted text-uppercase mb-1">Toplam Harcama</h6>
                                <h4 class="fw-bold mb-0" id="kpiTotalSpend">‚Ç∫0.00</h4>
                            </div>
                            <div class="fs-1 text-danger">üí∏</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow-sm border-0 border-start border-4 border-success h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted text-uppercase mb-1">Toplam Ciro</h6>
                                <h4 class="fw-bold mb-0" id="kpiTotalRevenue">‚Ç∫0.00</h4>
                            </div>
                            <div class="fs-1 text-success">üí∞</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow-sm border-0 border-start border-4 border-primary h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted text-uppercase mb-1">Ortalama ROI</h6>
                                <h4 class="fw-bold mb-0" id="kpiRoi">%0.0</h4>
                            </div>
                            <div class="fs-1 text-primary">üìà</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow-sm border-0 border-start border-4 border-warning h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="text-muted text-uppercase mb-1">Aktif Kampanya</h6>
                                <h4 class="fw-bold mb-0" id="kpiActiveCount">0</h4>
                            </div>
                            <div>
                                <small class="text-muted d-block fw-bold">En ƒ∞yi: <span
                                        id="kpiTopChannel">-</span></small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Uyarƒ± Kutusu -->
        <div id="loss-alert-container" class="mb-4">
            <!-- JS ile doldurulacak -->
        </div>

        <!-- Kampanya Kar≈üƒ±la≈ütƒ±rma Mod√ºl√º -->
        <div class="card shadow-sm mb-4 border-primary">
            <div class="card-header bg-primary text-white fw-bold d-flex justify-content-between align-items-center">
                <span>‚ö° Senaryo Kar≈üƒ±la≈ütƒ±rma Paneli</span>
                <span class="badge bg-light text-primary">Yeni</span>
            </div>
            <div class="card-body">
                <div class="row g-3 align-items-end">
                    <div class="col-md-5">
                        <label for="campaign1" class="form-label fw-bold">Kampanya A Se√ßin:</label>
                        <select class="form-select" id="campaign1">
                            <option selected disabled>Se√ßiniz...</option>
                        </select>
                    </div>
                    <div class="col-md-5">
                        <label for="campaign2" class="form-label fw-bold">Kampanya B Se√ßin:</label>
                        <select class="form-select" id="campaign2">
                            <option selected disabled>Se√ßiniz...</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <button class="btn btn-warning w-100 fw-bold" onclick="compareCampaigns()">Analiz Et üîç</button>
                    </div>
                </div>

                <!-- Kar≈üƒ±la≈ütƒ±rma Sonu√ßlarƒ± (Default: Hidden) -->
                <div id="comparisonResults" class="mt-4" style="display: none;">
                    <hr>
                    <div class="row g-4">
                        <!-- Finansal Kƒ±yaslama -->
                        <div class="col-md-6">
                            <h6 class="fw-bold text-center">üí∞ Finansal Kƒ±yaslama</h6>
                            <div class="chart-container">
                                <canvas id="compareFinancialChart"></canvas>
                            </div>
                        </div>
                        <!-- Verimlilik Kƒ±yaslama -->
                        <div class="col-md-6">
                            <h6 class="fw-bold text-center">üöÄ Verimlilik Analizi</h6>
                            <div class="chart-container">
                                <canvas id="compareEfficiencyChart"></canvas>
                            </div>
                        </div>
                        <!-- KDS √ñnerisi -->
                        <div class="col-12">
                            <div class="alert alert-info border-info d-flex align-items-center" role="alert">
                                <div class="fs-2 me-3">üí°</div>
                                <div>
                                    <h5 class="alert-heading fw-bold">KDS Stratejik √ñnerisi</h5>
                                    <p class="mb-0" id="kdsRecommendation">Sonu√ßlar bekleniyor...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>

    <!-- Gelecek Sim√ºlasyonu Mod√ºl√º -->
    <div class="card shadow-sm mb-4 border-success">
        <div class="card-header bg-success text-white fw-bold d-flex justify-content-between align-items-center">
            <span>üîÆ Gelecek Sim√ºlasyonu & Karar Destek</span>
            <span class="badge bg-light text-success">AI Powered</span>
        </div>
        <div class="card-body">
            <div class="row">
                <!-- Senaryo A -->
                <div class="col-md-6 border-end">
                    <h6 class="text-primary fw-bold mb-3">Senaryo A</h6>
                    <div class="mb-3">
                        <label class="form-label">Kanal:</label>
                        <select id="simChannelA" class="form-select sim-channel"></select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Hedef Kitle:</label>
                        <select id="simAudienceA" class="form-select sim-audience"></select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">B√ºt√ße (TL):</label>
                        <input type="number" id="simBudgetA" class="form-control" value="10000">
                    </div>
                </div>
                <!-- Senaryo B -->
                <div class="col-md-6">
                    <h6 class="text-danger fw-bold mb-3">Senaryo B</h6>
                    <div class="mb-3">
                        <label class="form-label">Kanal:</label>
                        <select id="simChannelB" class="form-select sim-channel"></select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Hedef Kitle:</label>
                        <select id="simAudienceB" class="form-select sim-audience"></select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">B√ºt√ße (TL):</label>
                        <input type="number" id="simBudgetB" class="form-control" value="10000">
                    </div>
                </div>
            </div>
            <div class="text-center mt-3">
                <button class="btn btn-lg btn-outline-success fw-bold px-5" onclick="runSimulation()">üöÄ Sƒ∞M√úLE ET VE
                    KARAR VER</button>
            </div>

            <!-- Sim√ºlasyon Sonu√ßlarƒ± -->
            <div id="simulationResults" class="mt-4" style="display: none;">
                <hr>
                <div class="row g-4">
                    <div class="col-md-6">
                        <h6 class="text-center fw-bold">Tahmini Gelir (Ciro)</h6>
                        <div class="chart-container">
                            <canvas id="simRevenueChart"></canvas>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h6 class="text-center fw-bold">Tahmini ROI (%)</h6>
                        <div class="chart-container">
                            <canvas id="simRoiChart"></canvas>
                        </div>
                    </div>
                    <!-- Karar Kutusu -->
                    <div class="col-12">
                        <div class="card bg-success text-white">
                            <div class="card-body text-center">
                                <h3 class="card-title fw-bold">ü§ñ Sƒ∞STEM KARARI</h3>
                                <p class="card-text fs-5" id="simulationDecision">Hesaplanƒ±yor...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-4">

        <!-- 1. Kanal Bazlƒ± ROI Analizi (Bar Chart) -->
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-white fw-bold">Kanal Bazlƒ± ROI Analizi (Ciro)</div>
                <div class="card-body">
                    <canvas id="roiChart"></canvas>
                </div>
            </div>
        </div>

        <!-- 2. Hedef Kitle Kar≈üƒ±la≈ütƒ±rmasƒ± (Polar Area Chart) -->
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-white fw-bold">Hedef Kitle Etkile≈üimi (Tƒ±klama)</div>
                <div class="card-body">
                    <canvas id="audienceChart"></canvas>
                </div>
            </div>
        </div>

        <!-- 3. Harcama vs Ciro Trendi (Line Chart - √áift Eksenli) -->
        <div class="col-12">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-white fw-bold">Son 30 G√ºn Harcama vs Ciro Trendi</div>
                <div class="card-body">
                    <canvas id="trendChart"></canvas>
                </div>
            </div>
        </div>

        <!-- 5. D√∂n√º≈ü√ºm Oranƒ± (Bar/Line Chart) -->
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-white fw-bold">Kampanya D√∂n√º≈ü√ºm Oranlarƒ± (%)</div>
                <div class="card-body">
                    <canvas id="conversionChart"></canvas>
                </div>
            </div>
        </div>

        <!-- 6. Materyal Performansƒ± (Pie Chart) -->
        <div class="col-md-6">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-white fw-bold">Materyal Performansƒ± (Satƒ±≈ü Adedi)</div>
                <div class="card-body">
                    <canvas id="materialChart"></canvas>
                </div>
            </div>
        </div>

        <!-- 4. Kampanya Performans Tablosu -->
        <div class="col-12">
            <div class="card shadow-sm h-100">
                <div class="card-header bg-white fw-bold">Detaylƒ± Kampanya Performans Tablosu</div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover align-middle">
                            <thead class="table-light">
                                <tr>
                                    <th>Kampanya Ba≈ülƒ±ƒüƒ±</th>
                                    <th>Kanal</th>
                                    <th>B√ºt√ße</th>
                                    <th>Toplam Harcama</th>
                                    <th>Kalan Bakiye</th>
                                    <th>Durum</th>
                                </tr>
                            </thead>
                            <tbody id="campaignTableBody">
                                <!-- JS ile doldurulacak -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Footer -->
    <footer class="text-center py-4 text-muted border-top mt-auto">
        <p class="mb-0">¬© 2025 E-Ticaret KDS Projesi</p>
    </footer>

    <!-- JS Dosyasƒ± -->
    <script src="js/dashboard.js"></script>
</body>

</html>